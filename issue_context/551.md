# acquire canonical segments for QueryContext rather than each PhysicalTable::scan

## Objective

Goal is to lock-in the canonical chain when the `QueryContext` is constructed, ensuring consistency within and across queries executed against that context.

## Steps

# 1. Add TableSnapshot, have it implement TableProvider

Add something like:
```rust
#[derive(Debug, Clone)]
pub struct TableSnapshot {
    physical_table: Arc<PhysicalTable>,
    reader_factory: Arc<NozzleReaderFactory>,
    canonical_chain: Option<Chain>,
}
```

And have that implement `TableProvider`. Have `PhysicalTable`s impl delegate to that.

# 2. Remove `TableProvider` implementation from `PhysicalTable`

At this step, the `QueryContext` needs to directly build the `TableSnapshot` in other to use it.