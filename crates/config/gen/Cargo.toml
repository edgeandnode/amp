[package]
name = "amp-config-gen"
edition.workspace = true
version.workspace = true
license-file.workspace = true
publish = false

# The parent crate is always available as a build dependency
[build-dependencies]
amp-config = { path = ".." }

# Config schema generation dependencies
# These dependencies are only included when the gen_schema_config cfg flag is enabled
[target.'cfg(gen_schema_config)'.build-dependencies]
amp-config = { path = "..", features = ["schemars"] }
schemars = { workspace = true }
serde_json = { workspace = true }

[lints.rust]
# Allow the gen_schema_config cfg flag used for conditional schema generation
unexpected_cfgs = { level = "warn", check-cfg = ['cfg(gen_schema_config)'] }
